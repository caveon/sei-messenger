!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("SeiMessenger",[],n):"object"==typeof exports?exports.SeiMessenger=n():e.SeiMessenger=n()}(this,function(){return function(e){function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var s=function e(n,t){var s=this;i(this,e),this.pong=function(e){"pong"===e.data&&(s.seiWindow=e.source)},this.getSeiResponseId=function(){for(var e=window.location.search.substring(1),n=e.split("&"),t=0,i=n.length;t<i;t++){var o=n[t].split("=");if(o[0]===s.seiQueryParamName)return o[1]}return"no query param found"},this.pingTargetWindow=function(e){e.parent.postMessage({seiPing:!0},s.seiOrigin),s.numPingAttempts<s.maxPingAttempts&&(s.numPingAttempts++,s.pingTargetWindow(e.parent))},this.sendMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s.seiWindow.postMessage({message:e,response_id:s.responseId,meta:n},s.seiOrigin)},this.seiOrigin=n||"https://sei.caveon.com",this.seiQueryParamName="response_id",this.maxPingAttempts=10,this.numPingAttempts=0,this.seiWindow=window.parent,this.responseId=t||this.getSeiResponseId(),window.addEventListener("message",this.pong),this.pingTargetWindow(window)};e.exports=s}])});